<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wolea.Ai - 예배인도자 플랫폼</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons as inline SVG components
        const Sparkles = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                <path d="M5 3v4"/>
                <path d="M19 17v4"/>
                <path d="M3 5h4"/>
                <path d="M17 19h4"/>
            </svg>
        );

        const BookOpen = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
            </svg>
        );

        const Music = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M9 18V5l12-2v13"/>
                <circle cx="6" cy="18" r="3"/>
                <circle cx="18" cy="16" r="3"/>
            </svg>
        );

        const ChevronRight = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="9 18 15 12 9 6"/>
            </svg>
        );

        const ExternalLink = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                <polyline points="15 3 21 3 21 9"/>
                <line x1="10" y1="14" x2="21" y2="3"/>
            </svg>
        );

        const Youtube = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/>
                <path d="m10 15 5-3-5-3z"/>
            </svg>
        );

        function WoleaAI() {
            const [currentPage, setCurrentPage] = useState(1);
            const [isTransitioning, setIsTransitioning] = useState(false);
            const [meditationInput, setMeditationInput] = useState('');
            const [countdown, setCountdown] = useState(60);
            const [canProceed, setCanProceed] = useState(false);
            const [isLoadingSuggestions, setIsLoadingSuggestions] = useState(false);
            const [isGenerating, setIsGenerating] = useState(false);
            const [generatedConti, setGeneratedConti] = useState(null);
            const [meditationSuggestions, setMeditationSuggestions] = useState(null);
            const [worshipDetails, setWorshipDetails] = useState({
                serviceType: '',
                theme: '',
                congregation: '',
                duration: '',
                churchCalendar: '',
                specialNotes: ''
            });

            useEffect(() => {
                if (meditationSuggestions && countdown > 0) {
                    const timer = setInterval(() => {
                        setCountdown(prev => {
                            if (prev <= 1) {
                                setCanProceed(true);
                                return 0;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                    return () => clearInterval(timer);
                }
            }, [meditationSuggestions, countdown]);

            const getMeditationSuggestions = async () => {
                if (!meditationInput.trim()) return;

                setIsLoadingSuggestions(true);
                try {
                    const response = await fetch("https://api.anthropic.com/v1/messages", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            model: "claude-sonnet-4-20250514",
                            max_tokens: 1000,
                            system: `당신은 성경과 찬양에 대한 깊은 이해를 가진 영적 멘토입니다. 사용자의 묵상 내용과 관련된 성경 구절과 찬양을 추천해주세요.`,
                            messages: [
                                { 
                                    role: "user", 
                                    content: `다음 묵상 내용과 관련하여:
"${meditationInput}"

1. 연관된 성경 말씀 2-3개 (구절과 내용 포함)
2. 추천 찬양 2-3곡 (찬송가 또는 CCM, 실제 존재하는 곡만)

은혜롭고 따뜻하게 작성해주세요.`
                                }
                            ],
                        })
                    });

                    const data = await response.json();
                    const suggestions = data.content
                        .map(item => (item.type === "text" ? item.text : ""))
                        .filter(Boolean)
                        .join("\n");
                    
                    setMeditationSuggestions(suggestions);
                    setCountdown(60);
                } catch (error) {
                    console.error('묵상 제안 생성 오류:', error);
                    setMeditationSuggestions("묵상 제안을 생성하는 중 오류가 발생했습니다.");
                } finally {
                    setIsLoadingSuggestions(false);
                }
            };

            const handleNext = () => {
                if (currentPage === 2 && meditationInput.trim() && canProceed) {
                    setIsTransitioning(true);
                    setTimeout(() => {
                        setCurrentPage(3);
                        setIsTransitioning(false);
                    }, 700);
                    setTimeout(() => {
                        setIsTransitioning(true);
                        setTimeout(() => {
                            setCurrentPage(4);
                            setIsTransitioning(false);
                        }, 700);
                    }, 2000);
                    setCanProceed(false);
                } else if (currentPage !== 2) {
                    setIsTransitioning(true);
                    setTimeout(() => {
                        setCurrentPage(currentPage + 1);
                        setIsTransitioning(false);
                    }, 700);
                }
            };

            const handleDetailsChange = (field, value) => {
                setWorshipDetails(prev => ({ ...prev, [field]: value }));
            };

            const generateConti = async () => {
                setIsGenerating(true);
                
                try {
                    const response = await fetch("https://api.anthropic.com/v1/messages", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            model: "claude-sonnet-4-20250514",
                            max_tokens: 3000,
                            system: `당신은 성경, 찬송가, CCM 찬양에 대해 깊이 이해하고 있는 예배 찬양 콘티 전문가입니다. 

**중요**: 반드시 실제로 존재하는 찬양만 추천하세요. 찬송가는 정확한 번호를, CCM은 실제 발표된 곡만 선택하세요.

다음 형식으로 3-5곡의 찬양을 추천하고, 마지막에 찬양팀 전체 묵상을 작성해주세요:

{
  "songs": [
    {
      "title": "찬양 제목 (실제 존재하는 곡)",
      "artist": "추천 찬양팀/사역자 (실제 존재하는 팀)",
      "youtubeLink": "https://www.youtube.com/watch?v=실제링크",
      "recommendedKey": "추천 조 (예: C key, D key)",
      "reason": "선곡 이유",
      "scripture": "연계되는 성경 구절"
    }
  ],
  "teamMeditation": "찬양팀 전체가 함께 묵상할 내용 (3-4문장)"
}

응답은 반드시 JSON 형식으로만 작성하세요.`,
                            messages: [
                                { 
                                    role: "user", 
                                    content: `다음 정보를 바탕으로 찬양 콘티를 제안해주세요:

묵상 내용: ${meditationInput}
예배 유형: ${worshipDetails.serviceType}
예배 주제/본문: ${worshipDetails.theme}
회중 특성: ${worshipDetails.congregation}
찬양 시간: ${worshipDetails.duration}
교회력: ${worshipDetails.churchCalendar}
특별 사항: ${worshipDetails.specialNotes}

실제 존재하는 찬양만 추천하고, JSON 형식으로만 응답해주세요.`
                                }
                            ],
                        })
                    });

                    const data = await response.json();
                    let contiText = data.content
                        .map(item => (item.type === "text" ? item.text : ""))
                        .filter(Boolean)
                        .join("\n");
                    
                    contiText = contiText.replace(/```json|```/g, "").trim();
                    
                    try {
                        const parsed = JSON.parse(contiText);
                        setGeneratedConti(parsed);
                    } catch (e) {
                        console.error('JSON 파싱 오류:', e);
                        setGeneratedConti({
                            songs: [{
                                title: "파싱 오류",
                                artist: "",
                                youtubeLink: "",
                                recommendedKey: "",
                                reason: contiText,
                                scripture: ""
                            }],
                            teamMeditation: ""
                        });
                    }
                } catch (error) {
                    console.error('찬양 콘티 생성 오류:', error);
                    setGeneratedConti({
                        songs: [{
                            title: "생성 오류",
                            artist: "",
                            youtubeLink: "",
                            recommendedKey: "",
                            reason: "찬양 콘티 생성 중 오류가 발생했습니다. 다시 시도해주세요.",
                            scripture: ""
                        }],
                        teamMeditation: ""
                    });
                } finally {
                    setIsGenerating(false);
                }
            };

            const colors = [
                'from-blue-50 to-blue-100 border-blue-300',
                'from-purple-50 to-purple-100 border-purple-300',
                'from-green-50 to-green-100 border-green-300',
                'from-amber-50 to-amber-100 border-amber-300',
                'from-rose-50 to-rose-100 border-rose-300'
            ];

            return (
                <div 
                    className="min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-slate-800 flex items-center justify-center p-4 overflow-y-auto"
                >
                    <div className="w-full max-w-3xl my-8">
                        {/* Page 1: Welcome */}
                        {currentPage === 1 && (
                            <div className={`bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-12 text-center transition-all duration-700 ${
                                isTransitioning ? 'opacity-0 translate-y-8' : 'opacity-100 translate-y-0'
                            }`}>
                                <div className="flex justify-center mb-6 animate-[fadeInUp_0.8s_ease-out]">
                                    <div className="w-20 h-20 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-full flex items-center justify-center">
                                        <Sparkles className="w-10 h-10 text-white" />
                                    </div>
                                </div>
                                <h1 className="text-4xl font-bold text-slate-800 mb-4 animate-[fadeInUp_0.8s_ease-out_0.2s_both]">
                                    안녕하세요
                                </h1>
                                <p className="text-xl text-slate-600 mb-8 animate-[fadeInUp_0.8s_ease-out_0.4s_both]">
                                    예배인도자 워리어(Wolea) 여러분<br />
                                    저는 <span className="font-semibold text-indigo-700">Wolea.Ai</span> 입니다.
                                </p>
                                <button
                                    onClick={handleNext}
                                    className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-10 py-4 rounded-full text-lg font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 animate-[fadeInUp_0.8s_ease-out_0.6s_both]"
                                >
                                    반갑습니다
                                </button>
                            </div>
                        )}

                        {/* Page 2: Meditation Input */}
                        {currentPage === 2 && (
                            <div className={`bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-12 transition-all duration-700 ${
                                isTransitioning ? 'opacity-0 translate-y-8' : 'opacity-100 translate-y-0'
                            }`}>
                                <div className="flex items-center justify-center mb-6">
                                    <BookOpen className="w-12 h-12 text-indigo-700 mr-3" />
                                    <Music className="w-12 h-12 text-indigo-700" />
                                </div>
                                <h2 className="text-2xl font-bold text-slate-800 mb-3 text-center">
                                    저는 당신의 성경과 찬양 묵상을<br />대신해주지 않습니다.
                                </h2>
                                <p className="text-lg text-slate-600 mb-6 text-center">
                                    오늘은 어떤 묵상을 하셨나요?
                                </p>
                                
                                <textarea
                                    value={meditationInput}
                                    onChange={(e) => setMeditationInput(e.target.value)}
                                    placeholder="예) 마태복음 1장 1절&#10;예) 주 찬양 내 삶의 이유&#10;&#10;충분한 시간을 가지고 묵상해주세요."
                                    className="w-full h-64 px-6 py-4 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700 text-lg resize-none mb-6"
                                />

                                {!meditationSuggestions && (
                                    <div className="mb-6">
                                        <button
                                            onClick={getMeditationSuggestions}
                                            disabled={!meditationInput.trim() || isLoadingSuggestions}
                                            className="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"
                                        >
                                            {isLoadingSuggestions ? (
                                                <>
                                                    <Sparkles className="mr-2 w-5 h-5 animate-spin" />
                                                    묵상 제안 생성중...
                                                </>
                                            ) : (
                                                <>
                                                    <Sparkles className="mr-2 w-5 h-5" />
                                                    더 깊은 묵상을 위한 제안 받기
                                                </>
                                            )}
                                        </button>
                                    </div>
                                )}

                                {meditationSuggestions && (
                                    <div className="mb-6 p-8 bg-gradient-to-br from-indigo-50 via-purple-50 to-blue-50 rounded-2xl border-2 border-indigo-200 shadow-lg">
                                        <div className="flex items-center mb-4">
                                            <Sparkles className="w-6 h-6 text-indigo-600 mr-2" />
                                            <h3 className="text-xl font-bold text-indigo-900">더 깊은 묵상을 위한 제안</h3>
                                        </div>
                                        <div className="text-base text-indigo-900 whitespace-pre-wrap leading-relaxed bg-white/60 rounded-xl p-6">
                                            {meditationSuggestions}
                                        </div>
                                        <div className="mt-6 p-4 bg-white/80 rounded-xl border border-indigo-200">
                                            <div className="flex items-center mb-2">
                                                <ExternalLink className="w-5 h-5 text-indigo-600 mr-2" />
                                                <p className="font-semibold text-indigo-800">초원(Chowon)에서 더 깊이 묵상하기</p>
                                            </div>
                                            <a 
                                                href="https://chowon.in/home" 
                                                target="_blank" 
                                                rel="noopener noreferrer"
                                                className="inline-block text-sm text-indigo-600 hover:text-indigo-800 font-semibold underline"
                                            >
                                                초원 바로가기 →
                                            </a>
                                        </div>
                                    </div>
                                )}

                                {meditationSuggestions && (
                                    <button
                                        onClick={handleNext}
                                        disabled={!canProceed}
                                        className="w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-8 py-4 rounded-full text-lg font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center group"
                                    >
                                        {countdown > 0 ? (
                                            <>묵상 시간: {countdown}초</>
                                        ) : (
                                            <>
                                                다음
                                                <ChevronRight className="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform" />
                                            </>
                                        )}
                                    </button>
                                )}
                            </div>
                        )}

                        {/* Page 3: Loading */}
                        {currentPage === 3 && (
                            <div className={`bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-16 text-center transition-all duration-700 ${
                                isTransitioning ? 'opacity-0 translate-y-8' : 'opacity-100 translate-y-0'
                            }`}>
                                <div className="flex justify-center mb-8">
                                    <div className="w-24 h-24 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-full flex items-center justify-center animate-pulse">
                                        <Sparkles className="w-12 h-12 text-white animate-spin" />
                                    </div>
                                </div>
                                <h2 className="text-3xl font-bold text-slate-800">
                                    Wolea 생각중...
                                </h2>
                            </div>
                        )}

                        {/* Page 4: Detailed Worship Information */}
                        {currentPage === 4 && !generatedConti && (
                            <div className={`bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-12 transition-all duration-700 ${
                                isTransitioning ? 'opacity-0 translate-y-8' : 'opacity-100 translate-y-0'
                            }`}>
                                <h2 className="text-3xl font-bold text-slate-800 mb-2 text-center">
                                    예배 준비 정보
                                </h2>
                                <p className="text-slate-600 mb-8 text-center">
                                    더 나은 찬양 콘티를 위해 상세 정보를 입력해주세요
                                </p>
                                
                                <div className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-2">
                                            예배 유형
                                        </label>
                                        <input
                                            type="text"
                                            value={worshipDetails.serviceType}
                                            onChange={(e) => handleDetailsChange('serviceType', e.target.value)}
                                            placeholder="예) 주일예배, 찬양예배, 청년예배"
                                            className="w-full px-5 py-3 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-2">
                                            예배 주제 또는 설교 본문
                                        </label>
                                        <input
                                            type="text"
                                            value={worshipDetails.theme}
                                            onChange={(e) => handleDetailsChange('theme', e.target.value)}
                                            placeholder="예) 은혜, 요한복음 3장 16절"
                                            className="w-full px-5 py-3 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-2">
                                            회중 특성
                                        </label>
                                        <input
                                            type="text"
                                            value={worshipDetails.congregation}
                                            onChange={(e) => handleDetailsChange('congregation', e.target.value)}
                                            placeholder="예) 청년, 장년, 온세대"
                                            className="w-full px-5 py-3 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-2">
                                            찬양 시간 (분)
                                        </label>
                                        <input
                                            type="text"
                                            value={worshipDetails.duration}
                                            onChange={(e) => handleDetailsChange('duration', e.target.value)}
                                            placeholder="예) 20분, 30분"
                                            className="w-full px-5 py-3 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-2">
                                            교회력
                                        </label>
                                        <input
                                            type="text"
                                            value={worshipDetails.churchCalendar}
                                            onChange={(e) => handleDetailsChange('churchCalendar', e.target.value)}
                                            placeholder="예) 대강절, 사순절, 부활절, 성령강림절"
                                            className="w-full px-5 py-3 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-2">
                                            특별 사항
                                        </label>
                                        <textarea
                                            value={worshipDetails.specialNotes}
                                            onChange={(e) => handleDetailsChange('specialNotes', e.target.value)}
                                            placeholder="예) 성찬식 있음, 빠른 템포 선호, 정적인 분위기"
                                            className="w-full h-32 px-5 py-3 border-2 border-slate-300 rounded-xl focus:border-indigo-600 focus:outline-none text-slate-700 resize-none"
                                        />
                                    </div>

                                    <button
                                        onClick={generateConti}
                                        disabled={isGenerating}
                                        className="w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-8 py-4 rounded-full text-lg font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center justify-center group"
                                    >
                                        {isGenerating ? (
                                            <>
                                                <Sparkles className="mr-2 w-5 h-5 animate-spin" />
                                                찬양 콘티 생성중...
                                            </>
                                        ) : (
                                            <>
                                                찬양 콘티 생성하기
                                                <Sparkles className="ml-2 w-5 h-5 group-hover:scale-110 transition-transform" />
                                            </>
                                        )}
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Page 5: Generated Conti */}
                        {generatedConti && (
                            <div className={`bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-12 transition-all duration-700 ${
                                isTransitioning ? 'opacity-0 translate-y-8' : 'opacity-100 translate-y-0'
                            }`}>
                                <h2 className="text-3xl font-bold text-slate-800 mb-2 text-center">
                                    생성된 찬양 콘티
                                </h2>
                                <p className="text-slate-600 mb-8 text-center">
                                    성경과 찬양에 기반한 맞춤 콘티입니다
                                </p>
                                
                                <div className="space-y-6 mb-8">
                                    {generatedConti.songs && generatedConti.songs.map((song, index) => (
                                        <div 
                                            key={index}
                                            className={`bg-gradient-to-r ${colors[index % colors.length]} rounded-xl p-6 border-2 shadow-md`}
                                        >
                                            <div className="flex items-start justify-between mb-4">
                                                <div>
                                                    <h3 className="text-2xl font-bold text-slate-800 mb-1">
                                                        {index + 1}. {song.title}
                                                    </h3>
                                                    {song.artist && (
                                                        <p className="text-sm text-slate-600">
                                                            추천: {song.artist}
                                                        </p>
                                                    )}
                                                </div>
                                                {song.youtubeLink && (
                                                    <a
                                                        href={song.youtubeLink}
                                                        target="_blank"
                                                        rel="noopener noreferrer"
                                                        className="flex items-center gap-1 bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm"
                                                    >
                                                        <Youtube className="w-4 h-4" />
                                                        유튜브
                                                    </a>
                                                )}
                                            </div>

                                            {song.recommendedKey && (
                                                <div className="mb-3 p-3 bg-white/50 rounded-lg">
                                                    <p className="text-sm font-semibold text-slate-700 mb-1">추천 코드</p>
                                                    <p className="text-slate-800 font-semibold">{song.recommendedKey}</p>
                                                </div>
                                            )}

                                            {song.reason && (
                                                <div className="mb-3">
                                                    <p className="text-sm font-semibold text-slate-700 mb-1">선곡 이유</p>
                                                    <p className="text-slate-700">{song.reason}</p>
                                                </div>
                                            )}

                                            {song.scripture && (
                                                <div className="p-3 bg-white/70 rounded-lg border-l-4 border-indigo-600">
                                                    <p className="text-sm font-semibold text-slate-700 mb-1">연계 성경 구절</p>
                                                    <p className="text-slate-700 italic">{song.scripture}</p>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>

                                {generatedConti.teamMeditation && (
                                    <div className="mb-8 p-8 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-2xl border-2 border-indigo-300 shadow-lg">
                                        <div className="flex items-center mb-4">
                                            <Sparkles className="w-6 h-6 text-indigo-700 mr-2" />
                                            <h3 className="text-xl font-bold text-indigo-900">찬양팀 함께 묵상하기</h3>
                                        </div>
                                        <p className="text-indigo-900 leading-relaxed text-lg">
                                            {generatedConti.teamMeditation}
                                        </p>
                                    </div>
                                )}

                                <div className="flex gap-4">
                                    <button
                                        onClick={() => {
                                            setIsTransitioning(true);
                                            setTimeout(() => {
                                                setGeneratedConti(null);
                                                setCurrentPage(1);
                                                setMeditationInput('');
                                                setMeditationSuggestions(null);
                                                setCountdown(60);
                                                setCanProceed(false);
                                                setWorshipDetails({
                                                    serviceType: '',
                                                    theme: '',
                                                    congregation: '',
                                                    duration: '',
                                                    churchCalendar: '',
                                                    specialNotes: ''
                                                });
                                                setIsTransitioning(false);
                                            }, 700);
                                        }}
                                        className="flex-1 bg-slate-200 text-slate-700 px-6 py-3 rounded-full font-semibold hover:bg-slate-300 transition-all duration-300"
                                    >
                                        새로 시작하기
                                    </button>
                                    <button
                                        onClick={generateConti}
                                        className="flex-1 bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-6 py-3 rounded-full font-semibold hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 flex items-center justify-center"
                                    >
                                        <Sparkles className="mr-2 w-5 h-5" />
                                        다시 생성하기
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<WoleaAI />, document.getElementById('root'));
    </script>
</body>
</html>
